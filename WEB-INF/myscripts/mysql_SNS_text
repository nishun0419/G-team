# データベースminishopの作成
set names utf8;
drop database if exists SNS;
create database SNS;

# ユーザーminiに、パスワードshopを設定し、データベースminishopに対するすべての権限を付与
grant all privileges on SNS.* to nise@localhost identified by 'nise';

# データベースminishopを使用する 
use SNS;

# テーブルitemsの作成
create table Users(
	UserID	varchar(256) not null primary key,
	FamilyName varchar(256) not null,
	GivenName varchar(256) not null,
	FamilyNameKana varchar(256) not null,
	GivenNameKana varchar(256) not null,
	Password varchar(256) not null,
	UserPostNum varchar(256) not null,
	UserAddress varchar(256) not null,
	UserTel varchar(256) not null
);

create table user(
	ident int auto_increment primary key,
	userid varchar(256),
	password varchar(256)
	);

insert into Users(UserID,FamilyName,GivenName,FamilyNameKana,GivenNameKana, Password,UserPostNum, UserAddress, UserTel ) values("ninose","二瀬","峻介","ニノセ","シュンスケ","$2y$10$fdBVIYCVifMGs8x5NSBzcevYB0DzdxnUNbryBA.nXHiqD5Wt6FhjG","658-0045","兵庫県神戸市東灘区御影石町1-8-17ルミエール御影","080-3052-7831");

insert into Users(UserID,FamilyName,GivenName,FamilyNameKana,GivenNameKana, Password,UserPostNum, UserAddress, UserTel ) values("denshi","神戸","電子","コウベ","デンシ","$2y$10$VSap8GpyZDeEkIVbCVD5bOgyLauVrYApzX6IytxMS3jd3L6.X92UW","658-0045","兵庫県神戸市中央区北野町1-8-1","080-3052-7832");


create table Posts(
	UpID int auto_increment primary key,
	UserID varchar(256) not null,
	CategoryID int not null,
	FacName varchar(256),
	PostNum varchar(256),
	Address varchar(256),
	PeopleNum int,
	Tel varchar(256),
	MailAddress varchar(256),
	Exposition varchar(256),
	PostDate date,
	StartDate date,
	StopDate date,
	UpCancel boolean default null,
	Image1 varchar(256),
	Image2 varchar(256),
	Image3 varchar(256),
	Area int,
	Electrical boolean,
	Water boolean,
	Gas boolean,
	Toilet boolean,
	BarrierFree boolean,
	Network boolean,
	Parking boolean,
	AirCondition boolean,
	Smoking enum ('freeSmoke', 'halfSmoke', 'noSmoke') default 'noSmoke' not null,
	FoodDrink boolean,
	NoFire boolean,
	Price int

);

insert into Posts(UserID, CategoryID, FacName, PostNum,Address,PeopleNum,Tel,MailAddress,Exposition,StartDate,StopDate,Image1,Image2,Image3,Price,Area, Electrical, Water, Gas, Toilet, BarrierFree, Network, Parking, AirCondition, FoodDrink, NoFire) values("denshi",1,"神戸電子専門学校", "650-0002", "兵庫県神戸市中央区北野町１−１−8",50,"0853-63-0245","denshi@example.co.jp", "神戸電子専門学校は、兵庫県神戸市中央区にある私立の専門学校。 ITや電子工学などのエンジニア系だけでなく、ゲームソフトやサウンドといったエンターテイメント分野から、グラフィック、建築CAD、工業デザインといったデザイン分野にわたり、15学科を擁する総合学園。","2017-12-25","2018-1-2", "denshi.png","denshi.png","denshi.png", 2000, 60, true,true,false,true, false, true, true, true, true, false);

insert into Posts(UserID, CategoryID, FacName, PostNum,Address,PeopleNum,Tel,MailAddress,Exposition,StartDate,StopDate,Price,Area, Electrical, Water, Gas, Toilet, BarrierFree, Network, Parking, AirCondition, FoodDrink, NoFire) values("ninose",1,"神戸市役所", "650-0001","神戸市中央区加納町6-5-1",50,"0853-63-0245","denshi@example.co.jp", "神戸市役所のページ","2017-12-24","2018-1-1", 2000, 100, true,true,false,true, false, true, true, true, true, false);

insert into Posts(UserID, CategoryID, FacName, PostNum,Address,PeopleNum,Tel,MailAddress,Exposition,StartDate,StopDate,Image1,Image2,Image3,Price,Area, Electrical, Water, Gas, Toilet, BarrierFree, Network, Parking, AirCondition, FoodDrink, NoFire) values("ninose",1,"ルミエール御影", "658-0045", "兵庫県神戸市東灘区御影石町1-8-17",10,"080-3052-7831","denshi@example.co.jp", "引越し便利な家具家電付あり！オートロック・モニター付インターフォンで安心！御影駅から三宮駅まで特急で約6分とアクセス良好♪","2017-12-25","2018-1-2", "mikage.png","mikage.png","mikage.png", 2000, 10, true,true,false,true, false, true, true, true, true, true);



create table orders(
	userid varchar(50) not null,
	facilityid int not null,
	orderdate date default null
);

insert into orders(userid, facilityid, orderdate) values("ninose", 1, "2018/1/18");
insert into orders(userid, facilityid, orderdate) values("ninose", 1, "2017/12/18");
insert into orders(userid, facilityid, orderdate) values("ninose", 1, "2018/12/26");
insert into orders(userid, facilityid, orderdate) values("ninose", 1, "2017/11/20");
insert into orders(userid, facilityid, orderdate) values("denshi", 2, "2018/1/3");